Efficiently create compact tree layouts